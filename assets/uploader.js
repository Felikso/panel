!function a(i,o,r){function l(t,e){if(!o[t]){if(!i[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(d)return d(t,!0);throw(n=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",n}n=o[t]={exports:{}},i[t][0].call(n.exports,function(e){return l(i[t][1][e]||e)},n,n.exports,a,i,o,r)}return o[t].exports}for(var d="function"==typeof require&&require,e=0;e<r.length;e++)l(r[e]);return l}({1:[function(e,t,n){"use strict";jQuery(document).ready(function(i){i(".mx_upload_image").on("click",function(e){var n,a=i(this);e.preventDefault(),n||(n=wp.media({title:"wybierz zdjÄ™cie",library:{type:"image"},button:{text:"Upload"},multyple:!1})).on("select",function(){var e=n.state().get("selection").first(),t=e.id,e=e.attributes.url;a.parent().find(".mx_upload_image_save").val(t),a.parent().find(".mx_save_img_field").val(t),a.parent().find(".mx_upload_image_show").attr("src",e),a.parent().find(".mx_upload_image_show").show(),a.parent().find(".mx_upload_image_remove").show(),a.hide()}),n.open()}),i(".mx_upload_image_remove").on("click",function(e){var t=i(this);e.preventDefault(),t.parent().find(".mx_upload_image_save").val(""),t.parent().find(".mx_upload_image_show").attr("src",""),t.parent().find(".mx_upload_image_show").hide(),t.parent().find(".mx_upload_image").show(),t.hide()}),i(".mx_upload_video").on("click",function(e){var n,a=i(this);e.preventDefault(),n||(n=wp.media({title:"choose video",library:{type:"video"},button:{text:"Upload"},multyple:!1})).on("select",function(){var e=n.state().get("selection").first(),t=e.id,e=e.attributes.url;a.parent().find(".mx_upload_video_save").val(t),a.parent().find(".mx_upload_video_show").attr("src",e),a.parent().find(".video-wrapper").show(),a.parent().find(".video-wrapper").load(),a.parent().find(".mx_upload_video_remove").show(),a.hide()}),n.open()}),i(".mx_upload_video_remove").on("click",function(e){var t=i(this);e.preventDefault(),t.parent().find(".mx_upload_video_save").val(""),t.parent().find(".mx_upload_video_show").attr("src",""),t.parent().find(".video-wrapper").hide(),t.parent().find(".mx_upload_video").show(),t.hide()}),i(".mx_upload_document").on("click",function(e){var n,a=i(this);e.preventDefault(),n||(n=wp.media({title:"choose document",library:{},button:{text:"Upload"},multyple:!1})).on("select",function(){var e=n.state().get("selection").first(),t=e.id,e=e.attributes.url;a.parent().find(".mx_upload_document_save").val(t),a.parent().find(".mx_upload_document_show").text(e),a.parent().find(".mx_upload_document_show").show(),a.parent().find(".mx_upload_document_remove").show(),a.hide()}),n.open()}),i(".mx_upload_document_remove").on("click",function(e){var t=i(this);e.preventDefault(),t.parent().find(".mx_upload_document_save").val(""),t.parent().find(".mx_upload_document_show").text(""),t.parent().find(".mx_upload_document_show").hide(),t.parent().find(".mx_upload_document").show(),t.hide()})}),jQuery(function(r){r("ul.ventusweb_gallery_mtb").sortable({items:"li",cursor:"-webkit-grabbing",scrollSensitivity:40,stop:function(e,t){t.item.removeAttr("style");var n=new Array,t=r(this);t.find("li").each(function(e){n.push(r(this).attr("data-id"))}),t.parent().next().val(n.join())}}),r(".ventusweb_upload_gallery_button").click(function(e){e.preventDefault();var a=r(this).prev(),i=a.val().split(","),o=wp.media({title:"Insert images",library:{type:"image"},button:{text:"Use these images"},multiple:!0}).on("select",function(){for(var e=o.state().get("selection").map(function(e){return e.toJSON(),e}),t=!1,n=0;n<e.length;++n)!function(e,t){for(var n in t)if(t[n]==e)return 1}(e[n].id,i)?(r("ul.ventusweb_gallery_mtb").append('<li data-id="'+e[n].id+'"><img src="'+e[n].attributes.url+'"><a href="#" class="ventusweb_gallery_remove" style="width: 300px;">&times;</a></li>'),i.push(e[n].id)):t=!0;r("ul.ventusweb_gallery_mtb").sortable("refresh"),a.val(i.join()),1==t&&alert("The same images are not allowed.")}).open()}),r("body").on("click",".ventusweb_gallery_remove",function(){var e=r(this).parent().attr("data-id"),t=r(this).parent().parent(),n=t.parent().next(),a=n.val().split(","),e=a.indexOf(e);return r(this).parent().remove(),-1!=e&&a.splice(e,1),n.val(a.join()),t.sortable("refresh"),!1}),r("body").on("mousedown","ul.ventusweb_gallery_mtb li",function(){var e=r(this);e.parent().find("li").removeClass("ventusweb-active"),e.addClass("ventusweb-active")})})},{}]},{},[1]);
//# sourceMappingURL=uploader.js.map
