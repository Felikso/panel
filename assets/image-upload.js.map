{"version":3,"file":"image-upload.js","sources":["image-upload.js"],"sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n\"use strict\";\n\njQuery(document).ready(function ($) {\n  // upload image\n  $('.mx_upload_image').on('click', function (e) {\n    var mx_upload_button = $(this);\n    e.preventDefault();\n    var frame;\n\n    if (frame) {\n      frame.open();\n      return;\n    }\n\n    frame = wp.media.frames.customBackground = wp.media({\n      title: 'choose imageeee',\n      library: {\n        type: 'image'\n      },\n      button: {\n        text: 'Upload'\n      },\n      multyple: false\n    });\n    frame.on('select', function () {\n      var attachment = frame.state().get('selection').first(); // and show the image's data\n\n      var image_id = attachment.id;\n      var image_url = attachment.attributes.url; // pace an id\n\n      mx_upload_button.parent().find('.mx_upload_image_save').val(image_id); // show an image\n\n      mx_upload_button.parent().find('.mx_upload_image_show').attr('src', image_url);\n      mx_upload_button.parent().find('.mx_upload_image_show').show(); // show \"remove button\"\n\n      mx_upload_button.parent().find('.mx_upload_image_remove').show(); // hide \"upload\" button\n\n      mx_upload_button.hide();\n    });\n    frame.open();\n  }); // remove image\n\n  $('.mx_upload_image_remove').on('click', function (e) {\n    var remove_button = $(this);\n    e.preventDefault(); // remove an id\n\n    remove_button.parent().find('.mx_upload_image_save').val(''); // hide an image\n\n    remove_button.parent().find('.mx_upload_image_show').attr('src', '');\n    remove_button.parent().find('.mx_upload_image_show').hide(); // show \"Upload button\"\n\n    remove_button.parent().find('.mx_upload_image').show(); // hide \"remove\" button\n\n    remove_button.hide();\n  }); // video upload\n\n  $('.mx_upload_video').on('click', function (e) {\n    var mx_upload_button = $(this);\n    e.preventDefault();\n    var frame;\n\n    if (frame) {\n      frame.open();\n      return;\n    }\n\n    frame = wp.media.frames.customBackground = wp.media({\n      title: 'choose video',\n      library: {\n        type: 'video'\n      },\n      button: {\n        text: 'Upload'\n      },\n      multyple: false\n    });\n    frame.on('select', function () {\n      var attachment = frame.state().get('selection').first(); // and show the video's data\n\n      var video_id = attachment.id;\n      var video_url = attachment.attributes.url; // pace an id\n\n      mx_upload_button.parent().find('.mx_upload_video_save').val(video_id); // show an video\n\n      mx_upload_button.parent().find('.mx_upload_video_show').attr('src', video_url);\n      mx_upload_button.parent().find('.video-wrapper').show();\n      mx_upload_button.parent().find('.video-wrapper').load(); // show \"remove button\"\n\n      mx_upload_button.parent().find('.mx_upload_video_remove').show(); // hide \"upload\" button\n\n      mx_upload_button.hide();\n    });\n    frame.open();\n  }); // remove video\n\n  $('.mx_upload_video_remove').on('click', function (e) {\n    var remove_button = $(this);\n    e.preventDefault(); // remove an id\n\n    remove_button.parent().find('.mx_upload_video_save').val(''); // hide an video\n\n    remove_button.parent().find('.mx_upload_video_show').attr('src', '');\n    remove_button.parent().find('.video-wrapper').hide(); // show \"Upload button\"\n\n    remove_button.parent().find('.mx_upload_video').show(); // hide \"remove\" button\n\n    remove_button.hide();\n  });\n});\n\n},{}]},{},[1]);\n"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","jQuery","document","ready","$","on","frame","mx_upload_button","this","preventDefault","wp","media","frames","customBackground","title","library","type","button","text","multyple","attachment","state","get","first","image_id","id","image_url","attributes","url","parent","find","val","attr","show","hide","open","remove_button","video_id","video_url","load"],"mappings":"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"}